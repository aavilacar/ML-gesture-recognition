/* Copyright 2020 The TensorFlow Authors. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
==============================================================================*/

//----- Setting up dependencies and calling other files -----//
#include <TensorFlowLite.h>
#include "main_functions.h"
#include "tensorflow/lite/micro/all_ops_resolver.h"

#include "endpoint_detection.h"
#include "feature_provider.h"
#include "model.h"
#include "output_handler.h"

#include "tensorflow/lite/micro/micro_error_reporter.h"
#include "tensorflow/lite/micro/micro_interpreter.h"
#include "tensorflow/lite/schema/schema_generated.h"
#include "tensorflow/lite/version.h"


//----- Setting up the model -----//
// Globals, used for compatibility with Arduino-style sketches.
namespace {
tflite::ErrorReporter* error_reporter = nullptr;
const tflite::Model* model = nullptr;
tflite::MicroInterpreter* interpreter = nullptr;
TfLiteTensor* input = nullptr;
TfLiteTensor* output = nullptr;
int inference_count = 0;

constexpr int kTensorArenaSize = 2000;
uint8_t tensor_arena[kTensorArenaSize];
}  // namespace

void setup() {
  // Set up logging. Google style is to avoid globals or statics because of
  // lifetime uncertainty, but since this has a trivial destructor it's okay.
  // NOLINTNEXTLINE(runtime-global-variables)
  static tflite::MicroErrorReporter micro_error_reporter;
  error_reporter = &micro_error_reporter;

  // Map the model into a usable data structure. This doesn't involve any
  // copying or parsing, it's a very lightweight operation.
  model = tflite::GetModel(g_model);
  if (model->version() != TFLITE_SCHEMA_VERSION) {
    TF_LITE_REPORT_ERROR(error_reporter,
                         "Model provided is schema version %d not equal "
                         "to supported version %d.",
                         model->version(), TFLITE_SCHEMA_VERSION);
    return;
  }

  // This pulls in all the operation implementations we need.
  // NOLINTNEXTLINE(runtime-global-variables)
  static tflite::AllOpsResolver resolver;

  // Build an interpreter to run the model with.
  static tflite::MicroInterpreter static_interpreter(
      model, resolver, tensor_arena, kTensorArenaSize, error_reporter);
  interpreter = &static_interpreter;

  // Allocate memory from the tensor_arena for the model's tensors.
  TfLiteStatus allocate_status = interpreter->AllocateTensors();
  if (allocate_status != kTfLiteOk) {
    TF_LITE_REPORT_ERROR(error_reporter, "AllocateTensors() failed");
    return;
  }

  // Obtain pointers to the model's input and output tensors.
  input = interpreter->input(0);
  output = interpreter->output(0);

  //Opening up Arduino Serial port
  Serial.begin(9600);

  //Setting the LED pins to output
  pinMode(LED_BUILTIN, OUTPUT);
  pinMode(LEDB, OUTPUT);
  pinMode(LEDR, OUTPUT);

  //Ensuring the LED is off by default (on when the pin is LOW, off when HIGH)
  digitalWrite(LEDB, HIGH);
  digitalWrite(LEDR, HIGH);
}

//----- Main loop -----//
void loop() {
  Serial.println("==============================");
  Serial.println();
  
  //--- Providing signals and relevant values ---//
  // Directly defining the Channel 1 and Channel 2 signals after being pre-processed and the endpoints detected
  float ch1_sample[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.02420636,-0.02420636,-0.1007114,-0.02420636,-0.07520935,-0.04970735,-0.04970735,0.05229865,0.001295641,0.02679765,0.07780065,0.05229865,-0.02420636,0.001295641,0.02679765,-0.07520935,0.001295641,0.05229865,0.07780065,-0.02420636,-0.02420636,-0.07520935,0.001295641,-0.02420636,0.05229865,0.001295641,-0.02420636,-0.02420636,-0.1007114,-0.07520935,0.001295641,-0.04970735,0.001295641,0.05229865,-0.02420636,0.001295641,0.001295641,-0.02420636,-0.1772154,-0.04970735,0.4348236,0.2563117,0.05229865,-0.1262124,-0.3047243,-0.1772154,0.02679765,0.001295641,0.1288036,0.07780065,0.05229865,-0.02420636,-0.04970735,-0.2027173,0.4348236,0.1033027,-0.1517144,0.05229865,0.2308106,-0.7892554,0.1543056,0.05229865,0.3073156,-0.02420636,-0.2282194,-0.1007114,0.3328167,0.7153416,-0.07520935,-0.9932684,-0.02420636,0.05229865,0.07780065,0.05229865,0.02679765,0.02679765,0.1288036,0.07780065,-0.02420636,-0.1262124,-0.1007114,0.02679765,-0.1517144,0.2308106,0.2563117,0.02679765,-0.3557274,0.3328167,0.07780065,-1.248284,-0.2282194,0.9448556,0.02679765,-0.3557274,0.3328167,0.1288036,0.2053086,0.05229865,-0.07520935,-0.2282194,-0.1262124,0.07780065,0.2308106,0.1543056,-0.3302253,0.1033027,0.4603246,0.02679765,-0.3812284,-0.2537203,-0.1772154,-0.1007114,0.001295641,-0.04970735,0.1798066,0.2563117,0.2308106,0.1288036,0.1033027,0.001295641,-0.1007114,0.1543056,-0.07520935,0.1798066,-0.3812284,-0.6107433,0.1543056,0.07780065,0.1033027,-0.02420636,-0.04970735,0.3838207,0.1543056,-0.1007114,-0.2792224,0.1288036,0.02679765,-0.07520935,0.1288036,0.1798066,-0.2537203,-0.2537203,-0.2792224,0.7408426,-0.4322324,0.4093217,-0.1772154,0.2053086,0.07780065,0.05229865,-0.1262124,-0.3557274,0.5113286,0.1798066,0.1033027,-0.9422644,-0.3302253,0.1288036,0.2308106,0.4093217,0.3328167,0.3583186,-0.3047243,-0.2792224,-0.2537203,-0.1772154,-0.07520935,0.05229865,-0.04970735,0.1543056,0.02679765,0.2053086,0.3328167,-0.07520935,0.02679765,-0.07520935,-0.7637534,0.1798066,0.07780065,0.1798066,0.1288036,0.1798066,0.05229865,-0.2027173,-0.07520935,0.02679765,0.07780065,0.1288036,-0.07520935,-0.1007114,-0.2027173,0.2818137,0.07780065,-0.02420636,-0.2282194,-0.02420636,-0.1772154,-0.2027173,-0.3302253,0.4603246,0.6898397,0.3328167,0.02679765,-0.2792224,-0.2537203,-0.1262124,0.1288036,-0.07520935,-0.2282194,-0.04970735,0.02679765,0.001295641,0.02679765,0.2053086,-0.2282194,0.02679765,0.001295641,0.07780065,0.07780065,0.02679765,-0.02420636,-0.1007114,-0.3557274,0.3583186,0.2818137,-0.07520935,-0.1517144,-0.1262124,-0.07520935,0.001295641,0.1798066,-0.1007114,-0.2282194,0.07780065,0.2053086,0.1543056,-0.02420636,0.1288036,0.02679765,-0.7382513,-0.2282194,0.3328167,0.2308106,0.1033027,0.1033027,0.07780065,-0.04970735,0.07780065,0.02679765,-0.04970735,-0.2027173,-0.02420636,-0.1262124,-0.04970735,-0.2282194,0.4093217,0.1798066,-0.1262124,0.4858267,-0.1262124,0.07780065,0.1288036,-0.8147563,0.05229865,0.3328167,0.1033027,0.1033027,0.05229865,0.2053086,0.2818137,0.1288036,-0.02420636,-0.1007114,-0.02420636,-0.07520935,-0.02420636,0.07780065,0.07780065,0.02679765,0.1543056,-0.2282194,0.07780065,-0.04970735,-0.1262124,0.001295641,0.02679765,-0.3812284,0.1288036,0.001295641,0.02679765,-0.3047243,0.2308106,-0.07520935,0.001295641,-0.2282194,-0.04970735,-0.3302253,1.505892,-0.2282194,-1.350291,-0.4577334,0.05229865,0.2563117,0.6133347,0.1288036,-0.2537203,0.07780065,0.2308106,-1.197281,0.5623317,1.862915,-0.1517144,0.001295641,-0.5852424,-0.6362454,-0.1262124,-0.04970735,0.1543056,0.1033027,0.1288036,-0.1007114,0.1798066,0.5368297,0.07780065,-0.1517144,-0.02420636,-0.04970735,-0.1262124,-0.07520935,0.001295641,0.05229865,-0.1262124,0.1033027,0.02679765,-0.02420636,-0.04970735,-0.02420636,-0.04970735,-0.3302253,0.8938527,0.5623317,-0.3812284,-1.222782,0.8173476,0.2308106,0.001295641,-0.1262124,-0.02420636,-0.07520935,-0.9422644,1.888417,-0.3812284,-1.069773,0.1798066,-0.07520935,0.1543056,-0.1007114,0.001295641,0.001295641,-0.1007114,-0.04970735,0.1798066,0.02679765,-0.02420636,-0.02420636,-0.02420636,0.02679765,0.001295641,0.1288036,-0.07520935,0.2308106,-0.1262124,-0.4067304,-0.2792224,0.5113286,-0.07520935,0.3328167,0.1798066,-0.1517144,-0.3812284,0.2308106,0.2818137,-0.4577334,-0.3812284,0.5368297,0.3073156,-0.6362454,0.02679765,0.3583186,0.2563117,0.001295641,-0.07520935,-0.02420636,-0.1007114,0.1288036,-0.1517144,-0.07520935,-0.1007114,-0.1517144,0.1543056,0.1798066,0.1288036,-0.2027173,-0.1262124,0.001295641,0.05229865,0.1543056,-0.1007114,0.1543056,0.3328167,0.3073156,-0.1262124,0.2053086,-0.1262124,-0.04970735,-0.1262124,-0.2282194,0.001295641,0.1798066,0.02679765,0.05229865,-0.07520935,-0.6872483,1.021361,0.2563117,-0.2537203,-0.1517144,0.05229865,-0.2282194,0.1288036,0.001295641,-0.02420636,0.1288036,0.1288036,-0.4577334,-0.2537203,0.3073156,-0.02420636,0.2053086,0.1798066,-0.1517144,-0.2282194,-0.1772154,-0.07520935,-0.02420636,-0.3302253,0.5878336,-0.04970735,-0.2027173,0.02679765,0.05229865,-0.1007114,-0.1772154,-0.07520935,-0.07520935,0.1543056,0.1798066,-0.1772154,0.2818137,-0.02420636,0.001295641,0.07780065,-0.1517144,0.02679765,0.02679765,0.02679765,0.2818137,0.1288036,0.1033027,-0.1262124,-0.2027173,-0.1772154,-0.07520935,-0.07520935,-0.1262124,-0.4577334,0.5878336,0.2818137,-0.2792224,-0.07520935,-0.07520935,0.05229865,-0.1007114,0.1798066,0.05229865,-0.1262124,0.02679765,0.1033027,-0.04970735,0.05229865,-0.02420636,0.001295641,-0.07520935,0.02679765,-0.04970735,0.1288036,0.1798066,0.02679765,-0.02420636,0.001295641,-0.1262124,-0.1007114,0.001295641,-0.04970735,-0.07520935,0.02679765,0.001295641,-0.07520935,0.2308106,0.3838207,-0.4832354,0.2563117,0.1543056,-0.8147563,0.05229865,0.5113286,-0.04970735,0.1543056,-0.07520935,-0.07520935,0.001295641,0.05229865,0.02679765,-0.02420636,0.001295641,-0.02420636,-0.02420636,-0.02420636,0.07780065,-0.02420636,0.001295641,-0.02420636,0.05229865,0.001295641,-0.2027173,0.02679765,0.02679765,-0.02420636,0.02679765,0.05229865,-0.02420636,0.001295641,-0.2282194,0.1543056,0.001295641,-0.1262124,0.3328167,-0.3557274,0.2818137,0.05229865,-0.07520935,-0.2027173,-0.1262124,-0.04970735,0.1798066,-0.07520935,-0.07520935,0.02679765,0.1798066,0.1033027,-0.1007114,-0.2027173,0.4093217,0.2818137,-0.2027173,-0.1772154,-0.07520935,-0.1007114,-0.1262124,-0.2282194,0.05229865,0.1033027,0.07780065,0.07780065,0.02679765,-0.04970735,-0.07520935,-0.1772154,0.2563117,0.02679765,-0.04970735,0.001295641,-0.02420636,-0.1262124,0.4603246,0.07780065,-0.07520935,-0.1262124,-0.1007114,-0.04970735,0.1543056,-0.02420636,-0.02420636,-0.02420636,0.001295641,-0.02420636,-0.02420636,-0.02420636,0.07780065,0.02679765,-0.02420636,-0.1517144,-0.1517144,-0.04970735,0.07780065,0.07780065,0.02679765,-0.02420636,-0.3302253,0.7408426,0.2818137,-0.2792224,-0.2282194,-0.1772154,0.001295641,-0.07520935,-0.07520935,0.07780065,-0.02420636,0.02679765,0.05229865,0.1288036,-0.02420636,0.001295641,0.1033027,-0.02420636,-0.02420636,-0.1007114,-0.02420636,-0.04970735,0.001295641,0.07780065,-0.04970735,0.001295641,0.02679765,-0.04970735,0.1288036,0.1033027,-0.07520935,-0.1517144,0.6643386,-0.2537203,-0.4322324,0.05229865,0.07780065,-0.1517144,-0.1517144,0.07780065,-0.04970735,-0.1007114,-0.04970735,0.07780065,-0.3047243,0.1798066,0.2308106,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
  };
  unsigned int ch1_wl = 657;   //Length of cut part of the Channel 1 signal
  float ch2_sample[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-0.0003079474,-0.1023389,-0.07683194,-0.0003079474,0.3823081,0.254769,-0.1788629,-0.280894,-0.05132395,0.1017231,0.2037541,-0.561479,-0.1278469,-0.1023389,0.05070706,0.3568001,0.2292611,0.1272301,0.05070706,-0.0003079474,-0.02581595,-0.02581595,-0.1023389,-0.1278469,-0.07683194,0.05070706,-0.5104629,-0.07683194,0.2802771,0.05070706,-0.0003079474,0.02519906,-0.05132395,0.07621506,0.02519906,-0.0003079474,-0.05132395,0.1017231,0.1272301,0.02519906,0.152738,-0.586987,-0.0003079474,-0.07683194,0.1017231,0.2037541,0.152738,0.02519906,-0.02581595,-0.2043699,0.07621506,0.1272301,-0.1278469,-0.1023389,-0.0003079474,0.2037541,0.4078161,0.02519906,-0.4339399,-0.280894,-0.0003079474,-0.0003079474,0.02519906,-0.1023389,-0.07683194,-0.1278469,0.3568001,0.2802771,0.05070706,-0.1533549,-0.2043699,0.2037541,-0.0003079474,0.07621506,0.1017231,0.152738,-0.280894,0.05070706,0.2037541,0.05070706,-0.0003079474,-0.1023389,-0.1533549,-0.3319089,-0.02581595,0.02519906,0.2802771,0.3568001,0.254769,-0.1278469,-0.02581595,-0.07683194,-0.586987,-0.1278469,0.2292611,0.1017231,0.1272301,0.1782461,0.2292611,-0.1788629,-0.02581595,-0.05132395,-0.07683194,-0.1278469,-0.0003079474,-0.1788629,-0.1023389,-0.1788629,-0.306401,0.1017231,0.152738,0.152738,-0.3829249,-0.2298779,-0.280894,0.02519906,0.02519906,0.1782461,0.1017231,0.2802771,-0.0003079474,-0.02581595,-0.1023389,-0.1023389,-0.05132395,-0.1023389,0.05070706,0.2037541,-0.561479,-0.0003079474,0.07621506,0.07621506,0.331292,0.1782461,0.02519906,-0.0003079474,-0.1533549,-0.1514779,-0.1514779,-0.1514779,-0.05132395,0.331292,0.2292611,0.5098461,-0.4084319,-1.122649,-0.0003079474,0.254769,0.02519906,0.152738,0.1017231,0.254769,0.02519906,0.2292611,0.4078161,-0.586987,0.02519906,-0.9185869,-0.8675719,0.3823081,0.8924631,0.02519906,0.4588311,0.4333231,0.1782461,-0.07683194,-0.1023389,-0.07683194,-0.3319089,-0.07683194,0.1782461,0.331292,-0.484956,-0.0003079474,-0.5104629,-0.05132395,-0.8930799,-0.4084319,0.688401,0.866955,0.3823081,0.3823081,0.2037541,0.5353541,-0.3574169,-0.4594479,-0.07683194,0.1272301,-0.0003079474,-0.2553859,-0.2553859,-0.6124939,0.2802771,0.1782461,0.1272301,0.4078161,0.1272301,-1.734835,0.9179701,-0.280894,-0.1533549,-0.7910489,0.9179701,1.071017,0.4843391,0.688401,-0.6380019,-1.479758,-1.071634,-0.2043699,0.6118771,0.1017231,-0.1278469,0.4843391,0.4843391,0.4333231,-0.6635099,1.096525,-0.1533549,-0.3574169,-0.3829249,-0.2553859,-2.040928,-0.1533549,0.4078161,0.7904321,0.4588311,0.1782461,0.688401,-0.02581595,-0.1788629,-0.8165559,-0.07683194,0.4843391,1.37711,0.866955,-0.4084319,-3.112254,-2.602099,1.249571,1.734218,1.453633,1.198556,0.764924,-0.689018,-0.4084319,0.4588311,-0.586987,0.8414471,-1.734835,-1.556281,-2.040928,0.6118771,0.9434781,1.198556,0.7139081,0.5608621,0.07621506,-0.3829249,0.3823081,0.6373851,-0.1278469,-0.8930799,0.1272301,-3.545885,0.688401,0.968986,2.218866,-3.290808,0.1272301,0.6628931,0.1017231,1.198556,1.657695,-0.2298779,0.6373851,-3.622409,-0.1533549,0.5353541,0.5608621,0.4843391,0.3057851,0.866955,-1.22468,0.4588311,-0.5104629,-0.765541,-0.4339399,0.02519906,0.7394161,0.688401,-0.484956,0.5863701,1.555664,-0.2553859,0.2292611,-2.806161,-0.07683194,1.402618,0.7904321,-0.280894,-0.02581595,0.688401,1.224063,-1.377727,-1.45425,0.254769,-0.05132395,-0.2043699,0.9434781,0.3823081,0.764924,0.6628931,-0.1533549,-0.2043699,-1.760343,1.530156,-2.678622,0.4843391,0.764924,0.866955,1.045509,-1.887882,0.5353541,0.5098461,-0.0003079474,0.254769,0.9944941,-0.6635099,-3.316316,-0.0003079474,0.5353541,1.096525,0.2037541,0.688401,-0.280894,-0.5104629,0.331292,1.224063,-0.3319089,0.05070706,-0.0003079474,0.1017231,-0.3319089,-0.944095,-0.306401,0.6628931,0.6118771,-1.403235,0.6628931,1.096525,1.198556,0.4333231,0.8414471,-3.061238,0.2292611,1.14754,-0.2298779,-0.05132395,-0.3574169,0.1272301,0.331292,0.2292611,-0.1023389,0.1782461,0.3568001,0.2292611,-1.709327,0.2037541,-1.097142,0.7394161,0.1017231,0.1017231,-0.280894,0.152738,0.152738,1.173048,0.2037541,0.7139081,-0.7400329,-0.9696029,-0.3574169,-0.6124939,-0.0003079474,0.7904321,1.632187,0.764924,-1.632804,0.331292,-1.071634,0.866955,0.152738,-0.8165559,0.4588311,1.173048,0.07621506,0.2292611,0.1017231,0.3568001,0.2037541,-0.4084319,-2.066436,-0.689018,2.550466,-0.9185869,0.4843391,-2.627606,0.05070706,0.254769,2.091327,-2.47456,1.530156,1.785234,0.331292,-1.22468,0.5098461,0.5863701,-1.887882,-0.765541,-0.561479,0.152738,-1.173665,0.1272301,-0.7400329,0.8924631,0.764924,0.3823081,0.02519906,1.300587,-1.428742,0.8924631,-0.689018,0.07621506,0.3568001,0.7394161,-0.05132395,-0.8930799,-3.724439,0.3568001,1.428125,-1.250188,-1.148157,1.632187,2.550466,0.6628931,0.5353541,-2.47456,-0.4084319,0.866955,0.1017231,-0.0003079474,0.2292611,0.02519906,0.07621506,-0.5104629,-0.6124939,0.9434781,-4.84678,-0.07683194,0.9944941,2.065819,1.632187,0.6118771,0.1782461,-1.607296,-0.586987,0.5098461,0.152738,-0.0003079474,-0.4084319,0.1017231,0.02519906,-0.1788629,-0.2043699,0.2292611,0.07621506,0.331292,-0.9696029,-1.097142,-0.7400329,1.555664,1.734218,-1.403235,-0.05132395,1.37711,0.8924631,0.5353541,0.4333231,0.4078161,-0.1533549,0.07621506,-2.449052,-0.4594479,-0.765541,0.9434781,-0.8930799,0.7139081,0.5098461,0.1272301,-0.4594479,0.968986,1.020001,-2.040928,0.5608621,-0.0003079474,-0.02581595,0.1272301,-0.5104629,-0.5104629,0.764924,0.968986,0.3057851,-1.199173,-1.326711,-0.280894,0.8414471,-0.4594479,-0.944095,1.428125,0.7139081,-0.4594479,-1.326711,0.8414471,0.05070706,0.3823081,-0.02581595,0.05070706,-0.3829249,-0.306401,-0.0003079474,-0.3574169,0.07621506,0.3568001,0.2292611,0.05070706,0.4078161,0.1017231,-0.1278469,-0.8675719,-0.280894,0.4078161,0.254769,1.173048,1.581172,-1.581789,-1.658312,0.07621506,-0.05132395,1.224063,0.2037541,-0.1278469,0.6118771,0.5353541,-0.8420639,-0.2043699,-1.785851,0.1272301,0.6118771,-0.2043699,0.7904321,1.989296,-0.9951109,0.1782461,-1.428742,-0.689018,-0.1788629,0.866955,0.3057851,0.764924,0.4843391,-0.3574169,-1.632804,0.8159391,0.3568001,0.2037541,-0.5104629,-0.02581595,0.6628931,0.4078161,0.5353541,-0.306401,-0.05132395,0.2037541,-0.306401,0.5098461,-0.306401,-0.07683194,-0.2553859,0.5098461,0.3057851,-0.9696029,-0.05132395,-0.5359709,-0.2298779,0.6118771,1.020001,0.866955,-1.020618,-0.3319089,0.3823081,-0.6124939,0.331292,-0.6380019,0.02519906,-0.3319089,0.152738,0.6118771,-0.3319089,-0.7910489,-0.02581595,0.9179701,-0.9185869,0.8924631,0.6373851,0.8159391,-0.280894,-1.862374,-0.9696029,1.020001,0.5098461,0.7139081,-0.4594479,0.2037541,-0.0003079474,-1.352219,0.3057851,0.7139081,0.5863701,-0.07683194,-0.1023389,0.2292611,-0.484956,0.02519906,0.5608621,0.2037541,-2.270498,0.07621506,2.040311,-0.5359709,-0.8930799,0.866955,0.2292611,-0.2298779,0.5353541,0.3568001,-0.8165559,-0.586987,-0.1788629,0.02519906,0.2802771,0.7139081,-0.1023389,-0.05132395,0.2802771,0.152738,-1.428742,0.2292611,-0.02581595,0.3057851,0.7139081,0.4588311,0.5863701,-1.938897,-0.2553859,0.4333231,0.2037541,0.6373851,0.1017231,-2.091944,-0.5104629,-0.0003079474,0.5863701,0.3823081,0.688401,0.3568001,0.5098461,-0.9185869,0.2037541,0.05070706,-1.071634,1.93828,-2.423544,1.300587,-0.765541,0.5863701,0.152738,0.3823081,-0.1023389,-0.5104629,0.4588311,-0.8675719,-0.4594479,-0.306401,-0.561479,1.37711,0.2802771,-1.097142,-1.22468,1.198556,0.6118771,-0.1278469,0.2037541,1.14754,0.3057851,0.3057851,0.764924,-1.22468,-0.1788629,0.4078161,-0.1023389,-1.071634,-0.7910489,0.07621506,-0.765541,0.7904321,0.9179701,-0.8675719,1.096525,0.1017231,0.7139081,0.4333231,0.5098461,0.2037541,-2.47456,0.5353541,-0.1023389,0.07621506,0.3057851,0.152738,0.688401,-0.5104629,-0.280894,0.07621506,0.866955,0.1782461,-1.097142,-1.403235,-0.9696029,1.402618,-0.02581595,0.3568001,0.5863701,-0.05132395,-1.148157,0.4078161,0.4588311,0.9944941,-1.632804,-0.2298779,0.7139081,-0.2298779,0.5353541,1.555664,-1.938897,-0.561479,0.6628931,-2.142959,0.688401,0.5098461,1.14754,0.8414471,0.6118771,-1.913389,-0.4594479,0.5353541,0.02519906,-0.2553859,-0.9696029,1.020001,-1.22468,-1.071634,0.9179701,1.810742,-0.7910489,-2.193975,0.6118771,0.254769,1.224063,0.5098461,-0.02581595,0.07621506,0.3057851,-0.9185869,0.1017231,-0.6380019,0.7904321,-0.2043699,0.4078161,0.254769,-0.7145249,-2.449052,0.5098461,2.065819,-0.280894,-1.020618,1.683203,0.6118771,-0.1023389,-0.8165559,0.1272301,-0.6124939,0.9179701,-0.07683194,-0.6635099,-1.607296,0.8924631,-1.020618,1.020001,0.764924,0.866955,-0.9185869,-1.709327,0.07621506,1.402618,1.428125,0.254769,-1.122649,0.7139081,-0.5104629,0.5098461,-0.2043699,0.2037541,1.60668,-1.020618,-2.627606,0.5098461,0.1782461,0.07621506,0.866955,0.3823081,0.1272301,0.254769,0.7904321,-0.484956,-0.02581595,0.3568001,0.02519906,0.9944941,-0.3319089,-0.2043699,-1.581789,1.14754,-1.22468,1.734218,-1.122649,0.2802771,-1.301204,-1.530773,2.091327,0.7904321,0.2802771,0.1017231,0.2037541,-0.0003079474,0.7394161,0.152738,1.734218,-1.581789,-1.734835,0.152738,1.300587,-0.05132395,0.2037541,-0.8165559,-3.188777,0.1782461,0.3823081,3.315699,-0.8165559,0.6373851,0.7394161,-1.352219,-0.306401,1.657695,0.2037541,-0.1023389,-0.2553859,-0.3319089,-2.040928,-0.02581595,-0.3829249,0.331292,0.5608621,0.2292611,-0.3829249,0.7139081,0.5353541,-0.484956,0.1782461,0.1017231,0.6373851,-0.5359709,0.2292611,-0.2298779,-0.4084319,0.07621506,-0.0003079474,-0.0003079474,0.1017231,0.152738,0.1272301,1.020001,-0.689018,-0.2043699,-1.326711,-0.4339399,0.7139081,-0.07683194,0.4078161,0.5608621,0.4588311,-0.484956,0.9944941,-0.7400329,-0.7400329,-0.4594479,-0.9185869,1.020001,-0.7145249,1.224063,0.5098461,0.7139081,-0.05132395,-0.4339399,0.02519906,-0.944095,0.8414471,0.3057851,-1.071634,-0.0003079474,-1.122649,0.1272301,-0.1533549,0.9434781,0.1017231,-0.0003079474,-0.7145249,1.045509,-0.0003079474,-0.561479,-0.3574169,0.5353541,0.4588311,0.6373851,0.1782461,-1.22468,0.02519906,0.8159391,-1.250188,1.020001,-1.734835,-0.3319089,1.861757,-0.6380019,0.4843391,0.2037541,-0.944095,1.581172,-0.07683194,-1.887882,-0.2043699,1.122032,-0.3829249,0.6628931,0.5098461,0.7139081,0.4843391,-0.7400329,-1.581789,0.8924631,0.331292,-0.9696029,0.1017231,0.331292,0.152738,0.4843391,-0.280894,-1.989913,-0.07683194,0.7904321,1.479141,1.096525,-0.07683194,-1.326711,-0.9951109,0.5863701,0.6373851,0.7139081,0.3568001,1.020001,0.9434781,-0.4594479,-1.556281,-0.7910489,-0.561479,0.05070706,-0.1023389,-0.0003079474,0.3057851,0.6628931,0.2802771,-0.1533549,0.3823081,0.4078161,-0.944095,0.4843391,-1.862374,1.096525,-0.2553859,-0.2553859,0.7394161,0.1272301,0.7904321,-0.05132395,-1.071634,0.6628931,-0.8165559,1.402618,0.05070706,-0.02581595,-1.68382,-0.05132395,-1.097142,1.300587,0.3568001,1.122032,0.152738,-0.2298779,-0.3319089,0.2292611,-0.1023389,-1.734835,-1.020618,-0.05132395,0.7904321,1.020001,-0.1023389,0.3568001,-0.9951109,0.02519906,0.5608621,0.5353541,0.5098461,-1.301204,-0.5359709,0.1017231,0.4078161,0.152738,-0.02581595,1.224063,0.4588311,-0.0003079474,-1.22468,0.02519906,0.2802771,0.4333231,-1.22468,-1.326711,0.1017231,1.581172,1.045509,-1.632804,-1.964405,0.02519906,0.9179701,-0.3574169,-0.05132395,0.2037541,0.6118771,-0.4594479,-0.2298779,0.331292,-1.020618,1.428125,-0.1278469,-0.8165559,0.254769,0.8924631,0.3568001,0.3823081,-0.0003079474,-0.2043699,-0.1788629,-0.05132395,-0.484956,0.07621506,-0.9696029,1.020001,-0.7145249,-0.944095,0.8159391,-1.964405,2.065819,-0.8930799,0.8924631,1.071017,0.8414471,0.3568001,-0.9185869,0.764924,-0.1533549,-1.097142,-0.9185869,0.4078161,0.5863701,0.4078161,-0.765541,-0.7400329,0.3568001,0.9179701,0.02519906,-1.326711,0.3568001,0.8414471,0.3823081,0.8414471,0.7139081,-1.148157,0.2802771,0.3823081,-1.199173,-0.1278469,-0.05132395,0.3057851,-0.07683194,0.6118771,0.2292611,-1.148157,-1.250188,0.2037541,1.14754,0.3057851,-0.4339399,0.1272301,1.453633,-1.760343,0.254769,0.5863701,-0.944095,0.1017231,0.3568001,1.045509,0.254769,-1.785851,-0.5104629,0.3057851,-0.2043699,0.254769,0.688401,-0.5104629,-0.5359709,-0.2043699,-0.944095,-0.9951109,0.968986,2.116835,-0.2298779,-1.097142,0.7394161,0.764924,0.6628931,0.5608621,-1.173665,-0.306401,0.4078161,-0.280894,-1.632804,0.3568001,0.2292611,0.7139081,-0.6635099,0.6118771,0.3057851,0.3057851,0.02519906,0.4333231,1.198556,1.249571,-4.617211,-1.046126,0.7904321,1.020001,1.351602,1.428125,-1.709327,-0.4339399,0.5098461,-0.306401,0.5608621,0.1017231,-0.280894,0.5608621,-0.3574169,-0.0003079474,1.224063,-0.689018,0.2802771,0.254769,0.1017231,-0.765541,-0.8420639,0.3057851,0.1017231,-0.2043699,0.5863701,0.9179701,-0.5104629,0.5608621,0.254769,0.1272301,-1.887882,0.7139081,0.5353541,-1.479758,-0.07683194,0.4333231,-0.4594479,1.224063,-1.887882,0.7139081,0.2802771,0.7139081,0.4078161,0.4588311,-0.280894,0.07621506,-0.2298779,-0.0003079474,-0.1023389,-0.4339399,-0.2298779,-0.0003079474,-0.3829249,-1.122649,-0.484956,1.122032,0.5353541,1.045509,1.581172,-1.377727,-0.9696029,-0.689018,0.5863701,-0.0003079474,0.3568001,0.2292611,0.4078161,1.14754,-0.5359709,-1.964405,-2.24499,0.02519906,-0.4339399,-0.280894,1.93828,0.1782461,0.5608621,-0.2553859,-0.05132395,0.1782461,0.7394161,0.1782461,0.07621506,-0.7145249,0.02519906,-0.05132395,0.331292,-0.586987,-0.2298779,0.331292,-0.3574169,-0.3829249,-0.05132395,1.020001,-0.9185869,-0.9185869,-1.352219,1.173048,1.198556,1.963788,-1.071634,0.7394161,-0.6124939,-0.3829249,1.708711,-1.148157,-1.250188,0.1272301,0.1017231,0.07621506,-0.586987,0.2037541,0.152738,-0.02581595,0.4588311,-0.3319089,-0.3319089,0.6373851,0.5098461,0.3823081,-0.5359709,0.4588311,-0.944095,0.1782461,0.3568001,-0.2553859,0.07621506,-0.6124939,-0.280894,0.2292611,0.3057851,0.05070706,0.5353541,-0.02581595,0.5098461,0.4078161,-0.1023389,-1.071634,-0.2298779,-1.122649,-0.1788629,1.326094,0.4588311,1.300587,-1.403235,-0.6380019,-0.0003079474,1.020001,0.7139081,0.5608621,-1.122649,-1.505266,0.331292,0.1782461,0.331292,-0.1533549,0.7139081,0.8159391,-2.984715,0.1272301,-0.7145249,1.326094,1.504649,-0.9185869,-0.0003079474,-0.6124939,0.4333231,1.071017,-0.6124939,0.4078161,0.3568001,0.02519906,-0.7145249,-0.5359709,-0.07683194,-1.301204,1.708711,1.249571,-0.6124939,-0.1278469,0.6628931,0.4333231,-1.479758,-0.6380019,0.8924631,0.688401,0.6628931,0.3568001,-1.199173,-0.1533549,-0.05132395,-0.8930799,0.4078161,0.254769,0.5863701,0.254769,-0.3829249,-0.8420639,-0.5359709,0.6118771,0.4078161,-0.8165559,0.1782461,1.37711,0.2037541,0.1017231,-0.4339399,-0.280894,0.4078161,-0.4594479,0.8159391,-0.07683194,-0.6124939,0.5863701,-0.7145249,0.5608621,-0.2553859,-0.1788629,-0.6380019,-0.8165559,0.7394161,0.05070706,0.4078161,2.422928,-0.765541,-3.341823,-0.2553859,0.4588311,0.2292611,1.912773,-1.658312,-1.097142,-0.3829249,0.764924,0.4588311,0.4843391,-0.2553859,0.1782461,-0.1023389,0.4333231,-0.1278469,-1.479758,0.4843391,0.254769,0.331292,-0.0003079474,1.020001,-3.137761,0.152738,1.096525,0.8924631,1.020001,0.9434781,-2.296006,-0.9696029,0.1017231,0.4078161,0.07621506,0.254769,-0.5104629,-0.3574169,0.1272301,0.6118771,0.7394161,0.02519906,-0.02581595,-0.5359709,-0.4339399,0.3823081,0.3823081,-0.6635099,-0.6380019,0.688401,-2.040928,0.7139081,0.3057851,0.2802771,0.3057851,0.4078161,-0.1533549,-0.02581595,-0.4339399,-0.1278469,0.331292,-0.2553859,1.326094,-1.45425,1.020001,-1.020618,0.2802771,-0.1788629,-0.02581595,0.968986,0.8159391,0.5353541,0.6118771,0.07621506,-0.6635099,-0.4594479,-0.765541,-1.148157,-0.2553859,0.3057851,0.331292,1.632187,0.6118771,-0.8675719,-1.275696,-1.275696,1.326094,-0.2043699,0.3568001,0.5098461,0.2292611,0.764924,0.3568001,-0.2043699,0.2292611,-0.561479,-1.530773,0.1017231,0.254769,0.7139081,0.3568001,-0.8675719,0.4588311,0.152738,0.4333231,-1.530773,-1.22468,0.3823081,1.198556,0.7139081,0.152738,1.14754,-1.326711,0.331292,-0.2298779,0.1272301,-0.9185869,0.1782461,0.254769,-1.020618,0.8414471,-0.6635099,0.2802771,0.3568001,0.02519906,0.3057851,-1.326711,0.764924,-0.05132395,0.3057851,-0.6380019,0.5863701,0.2037541,-0.6380019,-0.7400329,1.224063,0.4078161,-0.05132395,0.4333231,-0.1278469,-1.530773,-0.5104629,0.6118771,1.020001,1.096525,0.1017231,-0.8930799,0.4078161,0.764924,0.4843391,-1.148157,-0.2298779,0.152738,0.3057851,-0.0003079474,0.9434781,-1.581789,-1.68382,0.6628931,0.4588311,1.275079,1.351602,0.3568001,-0.4084319,-0.944095,-0.1788629,0.4078161,0.6118771,-0.4594479,-1.301204,-0.4339399,0.4588311,0.7904321,0.5608621,-0.2043699,-0.9951109,-0.07683194,0.05070706,0.8159391,0.2037541,-0.05132395,1.020001,0.1017231,0.2037541,-0.1023389,0.6118771,0.2292611,-1.071634,0.3057851,-0.6124939,-0.07683194,-0.1788629,-0.9696029,0.5098461,-0.7145249,0.6118771,1.224063,0.331292,-0.07683194,-1.68382,-0.2553859,1.020001,0.6628931,0.5863701,-0.02581595,-0.9185869,1.071017,-0.306401,-0.3574169,0.8159391,-0.4084319,-2.219482,0.5863701,0.1272301,-0.1788629,-0.3319089,1.60668,1.096525,-0.1023389,-0.5104629,-0.1023389,0.5608621,1.122032,-0.2298779,-0.6124939,-0.1023389,0.254769,-0.4339399,-0.05132395,-0.4084319,0.4588311,-0.7145249,-0.2043699,-0.1023389,-0.561479,-0.1278469,-0.05132395,0.7394161,0.8159391,1.122032,-1.199173,-1.326711,-0.0003079474,0.764924,0.8414471,0.8414471,-0.944095,0.2802771,0.1782461,-0.2043699,0.02519906,0.7904321,-0.765541,-1.887882,-0.4084319,0.4588311,0.3823081,-0.2298779,0.6118771,0.254769,0.6118771,0.6373851,-0.8165559,-0.1023389,-0.7400329,0.152738,1.045509,-0.2043699,0.7904321,0.1782461,0.1782461,-1.607296,0.07621506,0.7139081,-0.280894,-0.280894,-0.4084319,0.3823081,0.7904321,0.4333231,-1.530773,-0.0003079474,1.020001,0.07621506,-1.632804,0.254769,1.224063,1.300587,0.2292611,-0.7145249,0.152738,-0.4594479,0.2292611,-0.02581595,-0.1278469,-0.7145249,-0.8165559,0.5098461,0.1782461,-0.1788629,0.764924,-0.3574169,0.8414471,-2.500068,-0.306401,0.5863701,1.453633,0.4078161,-0.0003079474,0.5098461,0.2802771,-0.4084319,-0.02581595,-0.7400329,-0.1788629,0.05070706,-0.05132395,-0.05132395,0.1017231,-0.944095,0.4843391,-1.020618,0.4588311,-0.05132395,0.8159391,-0.4339399,1.37711,-1.734835,-0.306401,1.071017,0.02519906,0.3823081,-0.02581595,0.331292,-0.3574169,0.3568001,-0.8165559,-0.07683194,0.6118771,-0.689018,0.1782461,-0.02581595,-0.306401,0.331292,-0.306401,0.688401,-1.22468,-0.1788629,1.071017,-0.3574169,0.1272301,1.020001,0.7394161,0.152738,0.2037541,1.275079,-2.372529,-1.122649,0.688401,-0.7400329,0.3057851,-0.1278469,-0.02581595,0.05070706,-0.0003079474,0.05070706,0.1017231,0.5608621,0.05070706,-0.5104629,-1.505266,0.7139081,0.254769,0.2037541,1.37711,-0.280894,0.764924,-2.423544,-0.4339399,1.122032,1.045509,-0.4594479,-1.046126,0.2802771,1.224063,0.4588311,0.3057851,-0.484956,0.152738,0.5098461,-0.3829249,-0.7145249,-0.4084319,-0.2553859,-0.2043699,0.07621506,0.1017231,-0.07683194,0.152738,0.7904321,-1.22468,0.4078161,1.351602,0.1782461,0.4078161,-0.2043699,-0.8930799,0.3823081,-0.6124939,-0.9696029,0.6118771,1.071017,0.9179701,0.7139081,-0.9185869,-0.0003079474,0.07621506,-0.2043699,-0.586987,-0.0003079474,-1.071634,-0.05132395,0.07621506,0.2802771,0.4333231,-0.02581595,-0.4339399,-0.7145249,-0.7910489,1.198556,0.4333231,0.5098461,-0.8420639,0.7394161,-1.071634,0.1782461,-0.280894,0.9179701,0.1017231,-0.1278469,-0.02581595,0.254769,-0.9185869,-0.05132395,0.1782461,-0.1023389,-0.4339399,-0.0003079474,0.968986,-1.607296,-0.9185869,1.122032,0.688401,-0.306401,1.122032,-0.6380019,0.2037541,0.7394161,-0.765541,0.5098461,-0.5359709,-0.0003079474,-0.3829249,-0.2298779,0.07621506,0.05070706,0.07621506,-0.8420639,0.9434781,-0.6635099,0.02519906,0.8159391,-0.9185869,0.4333231,-0.3829249,0.4333231,0.1272301,-0.280894,0.1782461,-0.02581595,0.1017231,0.1272301,0.2037541,0.5098461,-1.428742,-0.2298779,0.1272301,0.07621506,-0.765541,-0.3574169,0.688401,0.9944941,-0.3319089,0.968986,0.07621506,0.05070706,-0.3574169,-0.1278469,-1.785851,-0.2553859,1.300587,1.300587,-1.148157,-0.4084319,-0.1533549,0.4333231,0.4078161,0.3057851,0.02519906,0.254769,-0.5359709,-0.1788629,0.3823081,-0.1023389,-0.4339399,0.5863701,-0.1023389,-2.296006,0.7139081,0.7904321,-0.3829249,0.4333231,0.6373851,-0.3574169,0.3057851,0.07621506,-0.8165559,-1.45425,-0.02581595,0.5098461,0.968986,-0.4339399,0.3823081,-0.1788629,0.2802771,0.2802771,-0.7910489,0.4588311,-0.4594479,0.7139081,-0.3574169,0.3568001,0.05070706,-0.2043699,1.020001,-1.122649,0.152738,0.254769,-0.1788629,0.02519906,0.2802771,0.2292611,-0.1023389,-1.22468,0.02519906,-0.4339399,0.3057851,0.1017231,0.2802771,-0.7145249,-0.1788629,-0.306401,0.3823081,1.173048,0.9179701,0.2802771,0.02519906,0.2037541,-0.2043699,-0.4594479,-0.586987,-0.2298779,-0.0003079474,-0.2043699,0.4588311,-0.0003079474,-0.3574169,-0.1023389,1.326094,-3.214285,-2.933699,1.428125,1.504649,0.968986,0.688401,0.968986,1.045509,-0.1278469,0.2292611,0.07621506,-0.3574169,-0.484956,-0.3829249,-0.7400329,-0.1533549,-0.9951109,-0.0003079474,-0.1023389,0.2802771,0.2802771,0.1782461,0.5353541,0.152738,0.1272301,0.1017231,0.1017231,-0.0003079474,0.02519906,0.02519906,-0.05132395,-0.1533549,-0.1533549,-0.689018,0.331292,0.3057851,1.887265,-0.1278469,-4.132563,-1.377727,1.708711,2.295389,0.6373851,0.02519906,-0.8675719,0.2037541,0.5863701,-0.3319089,0.4588311,0.02519906,-1.046126,0.05070706,-0.2553859,-0.1533549,-0.4084319,0.1017231,0.2292611,-0.280894,-0.1023389,0.1782461,-0.4084319,0.254769,-0.1788629,0.5863701,0.968986,0.3057851,0.4333231,-0.484956,0.5863701,-1.020618,-0.4084319,0.1272301,0.968986,-2.831668,-0.4594479,0.688401,1.122032,0.331292,0.07621506,0.02519906,-0.3319089,0.1272301,-0.5104629,-0.7910489,0.764924,1.60668,-1.479758,-0.6635099,-1.199173,0.5863701,1.020001,0.6628931,-0.689018,0.254769,-0.4084319,-0.4339399,0.6118771,-0.05132395,-0.689018,-0.3319089,0.5863701,-0.07683194,1.249571,-0.8930799,0.07621506,0.9434781,0.4078161,-2.117451,-0.6380019,0.5608621,0.2802771,-0.6380019,0.2802771,0.866955,0.2037541,0.3057851,-1.122649,0.968986,-0.6635099,-0.05132395,-0.1533549,0.5098461,0.2037541,-0.07683194,-0.05132395,0.05070706,0.688401,-1.530773,-0.7910489,-0.2553859,0.6373851,0.8414471,0.1782461,0.05070706,-1.479758,0.764924,0.1272301,0.02519906,0.3057851,-2.01542,-1.403235,0.7139081,1.020001,0.4588311,0.688401,0.7904321,-1.275696,0.5098461,-0.561479,-0.1278469,0.3568001,0.3823081,-0.4339399,-0.3319089,-0.4084319,-0.8420639,0.7904321,0
  };
  unsigned int ch2_wl = 2141;   //Length of cut part of the Channel 2 signal
  
  // Determining the total number of sample points in the Channel 1 and Channel 2 signals (to use them to extract the features)
  unsigned int ch_len = 0;
  if (sizeof(ch1_sample)/sizeof(float) == sizeof(ch2_sample)/sizeof(float)) {
    ch_len = sizeof(ch1_sample)/sizeof(float);      //Length of the whole Channel 1 and 2 signals
  }
  
  
  //--- Extracting sEMG features ---//
  //Feature 1 - Mean Absolute Value (MAV)
  float ch1_mav = MeanAbsoluteValue(ch1_sample, ch1_wl, ch_len);
  float ch2_mav = MeanAbsoluteValue(ch2_sample, ch2_wl, ch_len);
  
  //Feature 2 - Zero Crossings (ZC)
  unsigned int ch1_zc = ZeroCrossings(ch1_sample, ch_len);
  unsigned int ch2_zc = ZeroCrossings(ch2_sample, ch_len);
  
  //Feature 3 - Slope Sign Changes (SSC)
  unsigned int ch1_ssc = SlopeSignChanges(ch1_sample, ch_len);
  unsigned int ch2_ssc = SlopeSignChanges(ch2_sample, ch_len);
  
  //Printing features on the Serial port
  Serial.print("For Channel 1 -");
  Serial.print(" MAV: "); Serial.print(ch1_mav, 7);
  Serial.print(", ZC: "); Serial.print(ch1_zc);
  Serial.print(", SSC: "); Serial.println(ch1_ssc);
  Serial.print("For Channel 2 -");
  Serial.print(" MAV: "); Serial.print(ch2_mav, 7);
  Serial.print(", ZC: "); Serial.print(ch2_zc);
  Serial.print(", SSC: "); Serial.println(ch2_ssc);
  
  
  //----- Running inference -----//
  // Organising the features (x values) to feed into the model
  float x[6] = {ch1_mav, ch1_zc, ch1_ssc, ch2_mav, ch2_zc, ch2_ssc};
  
  // Placing the input into the model's input tensor
  input->data.f[0] = x[0];
  input->data.f[1] = x[1];
  input->data.f[2] = x[2];
  input->data.f[3] = x[3];
  input->data.f[4] = x[4];
  input->data.f[5] = x[5];
  //input->data.f[6] = x[6];
  //input->data.f[7] = x[7];

  // Run inference, and report any error
  TfLiteStatus invoke_status = interpreter->Invoke();
  if (invoke_status != kTfLiteOk) {
    TF_LITE_REPORT_ERROR(error_reporter, "Invoke failed");
    return;
  }

  // Obtaining the output from the model's output tensor
  float y[2];
  y[0] = output->data.f[0];
  y[1] = output->data.f[1];
  
  // Output the results
  HandleOutput(error_reporter, y);
  
  delay(2000);
}
